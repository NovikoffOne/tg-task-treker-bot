# Тест базового сценария работы с проектом

## Описание
Этот документ описывает базовый сценарий тестирования полного цикла работы с проектом в боте-трекере задач. Тест проверяет создание структуры, работу с задачами, добавление ссылок и меток.

## Запуск теста
Для запуска теста отправьте боту сообщение с тегом:
```
@start_test_basecase
```

Или используйте команду:
```
/start_test_basecase
```

## Структура теста

### Этап 1: Подготовка тестового пространства

#### 1.1 Создание тестового пространства
- **Команда:** `/newworkspace Тестовое пространство`
- **Ожидаемый результат:** Пространство создано
- **Проверка:** Если пространство уже существует, пропустить создание

#### 1.2 Создание досок с колонками

**Доска "Подготовка" (дашборд проекта):**
- Команда: `/newboard Подготовка`
- Колонки создаются автоматически (дефолтные: Очередь, В работе, Готово)

**Доска "Дизайн":**
- Команда: `/newboard Дизайн`
- Добавить колонки:
  - `/addcolumn Дизайн Очередь`
  - `/addcolumn Дизайн План на неделю`
  - `/addcolumn Дизайн В работе`
  - `/addcolumn Дизайн На утверждении`
  - `/addcolumn Дизайн Готово`

**Доска "Разработка":**
- Команда: `/newboard Разработка`
- Добавить колонки:
  - `/addcolumn Разработка Очередь`
  - `/addcolumn Разработка План на неделю`
  - `/addcolumn Разработка В работе`
  - `/addcolumn Разработка Тестирование`
  - `/addcolumn Разработка Фикс Багов`
  - `/addcolumn Разработка Готово`
  - `/addcolumn Разработка Отправленно AppConnect`

**Доска "Тестирование":**
- Команда: `/newboard Тестирование`
- Добавить колонки:
  - `/addcolumn Тестирование Очередь`
  - `/addcolumn Тестирование План на неделю`
  - `/addcolumn Тестирование В работе`
  - `/addcolumn Тестирование Модерация`
  - `/addcolumn Тестирование Реджект`
  - `/addcolumn Тестирование Готово`

**Доска "Store":**
- Команда: `/newboard Store`
- Добавить колонки:
  - `/addcolumn Store Очередь`
  - `/addcolumn Store В работе`
  - `/addcolumn Store На модерации`
  - `/addcolumn Store Реджект`
  - `/addcolumn Store Опубликовано`
  - `/addcolumn Store Реджект 4.3`
  - `/addcolumn Store SPAM`
  - `/addcolumn Store BAN`

**Доска "АСО":**
- Команда: `/newboard АСО`
- Добавить колонки:
  - `/addcolumn АСО Очередь`
  - `/addcolumn АСО В работе`
  - `/addcolumn АСО Готово`

**Доска "Подготовка аккаунта":**
- Команда: `/newboard Подготовка аккаунта`
- Добавить колонки:
  - `/addcolumn Подготовка аккаунта Очередь`
  - `/addcolumn Подготовка аккаунта План на неделю`
  - `/addcolumn Подготовка аккаунта В работе`
  - `/addcolumn Подготовка аккаунта Готово`

### Этап 2: Создание проекта

#### 2.1 Создание проекта
- **Команда:** `/newproject 5001 Pictory Ai`
- **Ожидаемый результат:** Проект создан, задачи автоматически созданы на всех досках
- **Проверка:** Проект существует, задачи созданы на всех досках

### Этап 3: Работа с задачей Подготовки

#### 3.1 Перемещение задачи в "Готово"
- Найти задачу проекта на доске "Подготовка"
- **Команда:** `/movetask <task_id> Готово`
- **Ожидаемый результат:** Задача перемещена в колонку "Готово"

#### 3.2 Добавление ссылки на ТЗ
- Найти задачу проекта на доске "Подготовка"
- Создать поле "ТЗ" (если не существует): `/newfield ТЗ url`
- **Команда:** `/addfield <task_id> ТЗ https://docs.google.com/document/d/1HLqpFj26FUiLpawMCZlLD4NmSe8g7Pi2yw87Ag8SfSg/edit?usp=sharing`
- **Ожидаемый результат:** Ссылка добавлена к задаче
- **Проверка:** Ссылка синхронизирована со всеми задачами проекта

### Этап 4: Работа с задачей Дизайна

#### 4.1 Перемещение задачи по колонкам
- Найти задачу проекта на доске "Дизайн"
- Переместить в "План на неделю": `/movetask <task_id> План на неделю`
- Переместить в "В работе": `/movetask <task_id> В работе`
- Переместить в "На утверждении": `/movetask <task_id> На утверждении`

#### 4.2 Добавление ссылки на Figma
- Перед перемещением в "На утверждении" добавить ссылку:
- Создать поле "Figma" (если не существует): `/newfield Figma url`
- **Команда:** `/addfield <task_id> Figma https://www.figma.com/design/fABhWomOv8FslEVlFsFJ1J/Krea.ai-App?node-id=15-198&p=f&t=IQpjhigMUbqBue5Q-0`
- **Ожидаемый результат:** Ссылка добавлена
- **Проверка:** Ссылка синхронизирована со всеми задачами проекта

### Этап 5: Проверка эпика проекта

#### 5.1 Просмотр проекта
- **Команда:** `/project 5001`
- **Проверка:** В ответе должны быть все ранее добавленные ссылки:
  - ТЗ: https://docs.google.com/document/d/1HLqpFj26FUiLpawMCZlLD4NmSe8g7Pi2yw87Ag8SfSg/edit?usp=sharing
  - Figma: https://www.figma.com/design/fABhWomOv8FslEVlFsFJ1J/Krea.ai-App?node-id=15-198&p=f&t=IQpjhigMUbqBue5Q-0

### Этап 6: Работа с задачей Разработки

#### 6.1 Просмотр задачи Разработки
- Найти задачу проекта на доске "Разработка"
- **Команда:** `/task <task_id>`
- **Проверка:** В ответе должны быть все ранее добавленные ссылки:
  - ТЗ
  - Figma

#### 6.2 Перемещение задачи по колонкам
- Переместить в "План на неделю": `/movetask <task_id> План на неделю`
- Переместить в "В работе": `/movetask <task_id> В работе`
- Переместить в "Тестирование": `/movetask <task_id> Тестирование`

#### 6.3 Добавление ссылки на GitHub
- Перед перемещением в "Тестирование" добавить ссылку:
- Создать поле "GitHub" (если не существует): `/newfield GitHub url`
- **Команда:** `/addfield <task_id> GitHub https://github.com/`
- **Ожидаемый результат:** Ссылка добавлена
- **Проверка:** Ссылка синхронизирована со всеми задачами проекта

### Этап 7: Работа с задачей Тестирования

#### 7.1 Просмотр задачи Тестирования
- Найти задачу проекта на доске "Тестирование"
- **Команда:** `/task <task_id>`
- **Проверка:** В ответе должны быть все ранее добавленные ссылки:
  - ТЗ
  - Figma
  - GitHub

#### 7.2 Перемещение задачи в Реджект
- Переместить в "В работе": `/movetask <task_id> В работе`
- Переместить в "Реджект": `/movetask <task_id> Реджект`

#### 7.3 Добавление ссылки на баг-репорт
- Перед перемещением в "Модерация" добавить ссылку:
- Создать поле "Баг-репорт" (если не существует): `/newfield Баг-репорт url`
- **Команда:** `/addfield <task_id> Баг-репорт https://drive.google.com/drive/folders/1H-PawR5k6T24MQ_HnkloaXP1eGnnQImd?hl=ru`
- **Ожидаемый результат:** Ссылка добавлена
- **Проверка:** Ссылка синхронизирована со всеми задачами проекта

### Этап 8: Возврат к задаче Разработки

#### 8.1 Просмотр задачи Разработки
- Найти задачу проекта на доске "Разработка"
- **Команда:** `/task <task_id>`
- **Проверка:** В ответе должны быть все ранее добавленные ссылки:
  - ТЗ
  - Figma
  - GitHub
  - Баг-репорт

#### 8.2 Проверка колонки задачи Разработки
- Проверить, что задача находится в колонке "Фикс Багов"
- Если нет, переместить: `/movetask <task_id> Фикс Багов`

#### 8.3 Завершение задачи Разработки
- Переместить в "Готово": `/movetask <task_id> Готово`
- Переместить в "Отправленно AppConnect": `/movetask <task_id> Отправленно AppConnect`

### Этап 9: Работа с задачей Store

#### 9.1 Перемещение задачи Store по колонкам
- Найти задачу проекта на доске "Store"
- Переместить в "В работе": `/movetask <task_id> В работе`
- Переместить в "На модерации": `/movetask <task_id> На модерации`
- Переместить в "Реджект": `/movetask <task_id> Реджект`
- Переместить в "Опубликовано": `/movetask <task_id> Опубликовано`

#### 9.2 Добавление метки И1
- Когда задача в колонке "Опубликовано":
- Создать метку "И1" (если не существует): `/newtag И1`
- **Команда:** `/addtag <task_id> И1`
- **Ожидаемый результат:** Метка добавлена к задаче

### Этап 10: Финальная проверка

#### 10.1 Просмотр эпика проекта
- **Команда:** `/project 5001`
- **Проверка:** В ответе должны быть все ранее добавленные ссылки:
  - ТЗ: https://docs.google.com/document/d/1HLqpFj26FUiLpawMCZlLD4NmSe8g7Pi2yw87Ag8SfSg/edit?usp=sharing
  - Figma: https://www.figma.com/design/fABhWomOv8FslEVlFsFJ1J/Krea.ai-App?node-id=15-198&p=f&t=IQpjhigMUbqBue5Q-0
  - GitHub: https://github.com/
  - Баг-репорт: https://drive.google.com/drive/folders/1H-PawR5k6T24MQ_HnkloaXP1eGnnQImd?hl=ru
- **Проверка метки:** Метка "И1" должна быть на задаче Store

## Ожидаемые результаты

### Структура данных
- ✅ Тестовое пространство создано
- ✅ Все доски созданы с правильными колонками
- ✅ Проект 5001 "Pictory Ai" создан
- ✅ Задачи созданы на всех досках

### Ссылки
- ✅ Все ссылки добавлены к задачам
- ✅ Все ссылки синхронизированы между задачами проекта
- ✅ Ссылки отображаются при просмотре задач и проекта

### Метки
- ✅ Метка "И1" создана
- ✅ Метка "И1" добавлена к задаче Store

### Перемещения задач
- ✅ Все задачи перемещены по правильным колонкам
- ✅ Задача Разработки находится в "Фикс Багов" после реджекта тестирования
- ✅ Задача Store находится в "Опубликовано"

## Команды для проверки

### Проверка структуры
- `/workspaces` - список пространств
- `/boards` - список досок
- `/columns <доска>` - список колонок доски
- `/projects` - список проектов

### Проверка задач
- `/project <id>` - просмотр проекта (эпика)
- `/task <id>` - просмотр задачи
- `/board <название>` - просмотр доски

### Проверка полей и меток
- Поля отображаются в ответе команды `/task <id>`
- Метки отображаются в ответе команды `/task <id>`

## Примечания

1. **Синхронизация полей:** При добавлении поля к задаче проекта, поле автоматически синхронизируется со всеми задачами этого проекта.

2. **Поиск задач:** Для поиска задач проекта используйте команду `/project <id>` или просматривайте доски через `/board <название>`.

3. **Метки:** Метки создаются на уровне пространства и могут быть добавлены к любой задаче пространства.

4. **Поля:** Поля создаются на уровне пространства и могут быть добавлены к любой задаче пространства.

5. **Автоматическое создание задач:** При создании проекта задачи автоматически создаются на всех досках пространства в первой колонке каждой доски.

