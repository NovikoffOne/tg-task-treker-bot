# Чеклист готовности бота к ручному тестированию

> **Дата создания:** 2025-01-28  
> **Версия:** 2.0

## Проверка перед тестированием

### ✅ Конфигурация

- [ ] Файл `.env` создан в папке `task_tracker_bot/` (не в корне проекта!)
- [ ] `BOT_TOKEN` установлен в `task_tracker_bot/.env`
- [ ] `DATABASE_PATH` установлен (по умолчанию: `data/tasks.db`)
- [ ] Все зависимости установлены: `pip install -r task_tracker_bot/requirements.txt`

### ✅ Структура проекта

- [x] Файл `bot.py` существует и синтаксически корректен
- [x] Все handlers импортируются без ошибок
- [x] База данных может быть инициализирована
- [x] Миграция MVP 0.2 выполняется при запуске

### ✅ Зарегистрированные команды

#### Базовые команды
- [x] `/start` - зарегистрирована
- [x] `/help` - зарегистрирована
- [x] `/menu` - зарегистрирована
- [x] `/start_test_basecase` - зарегистрирована
- [x] `@start_test_basecase` - обработчик тега зарегистрирован

#### Пространства
- [x] `/workspaces` - зарегистрирована
- [x] `/newworkspace` - зарегистрирована (ConversationHandler)
- [x] `/delworkspace` - зарегистрирована
- [x] `/renameworkspace` - зарегистрирована

#### Доски
- [x] `/boards` - зарегистрирована
- [x] `/newboard` - зарегистрирована
- [x] `/delboard` - зарегистрирована
- [x] `/board` - зарегистрирована
- [x] `/boardlist` - зарегистрирована
- [x] `/columns` - зарегистрирована
- [x] `/addcolumn` - зарегистрирована
- [x] `/delcolumn` - зарегистрирована

#### Проекты
- [x] `/projects` - зарегистрирована
- [x] `/newproject` - зарегистрирована
- [x] `/project` - зарегистрирована
- [x] `/projectdashboard` - зарегистрирована
- [x] `/delproject` - зарегистрирована

#### Задачи
- [x] `/newtask` - зарегистрирована (ConversationHandler)
- [x] `/task` - зарегистрирована
- [x] `/movetask` - зарегистрирована
- [x] `/priority` - зарегистрирована
- [x] `/deltask` - зарегистрирована
- [x] `/mytasks` - зарегистрирована
- [x] `/today` - зарегистрирована
- [x] `/deadline` - зарегистрирована

#### Зависимости
- [x] `/dependencies` - зарегистрирована
- [x] `/newdependency` - зарегистрирована
- [x] `/deldependency` - зарегистрирована

#### Поля
- [x] `/newfield` - зарегистрирована
- [x] `/addfield` - зарегистрирована

#### Статистика
- [x] `/stats` - зарегистрирована
- [x] `/statsproject` - зарегистрирована
- [x] `/statsboard` - зарегистрирована

#### AI
- [x] `/ai` - зарегистрирована

#### Метки (Tags)
- [ ] `/newtag` - **НЕ НАЙДЕНА в bot.py**
- [ ] `/addtag` - **НЕ НАЙДЕНА в bot.py**
- [ ] `/deltag` - **НЕ НАЙДЕНА в bot.py**

### ✅ Тестирование

- [x] `BaseCaseTestRunner` импортируется успешно
- [x] Команда `/start_test_basecase` реализована
- [x] Обработчик тега `@start_test_basecase` зарегистрирован
- [x] Документация `test-base-case.md` исправлена (тег)

## ⚠️ Найденные проблемы

### 1. Метки (Tags) - команды не зарегистрированы

**Проблема:** Команды `/newtag`, `/addtag`, `/deltag` не найдены в `bot.py`

**Решение:** Нужно проверить, существует ли файл `handlers/tag.py` и зарегистрировать команды в `bot.py`

**Проверка:**
```bash
ls task_tracker_bot/handlers/tag.py
grep -r "newtag\|addtag\|deltag" task_tracker_bot/handlers/
```

### 2. BOT_TOKEN не установлен

**Проблема:** Переменная окружения `BOT_TOKEN` не установлена

**Решение:** Создать файл `.env` в папке `task_tracker_bot/` (не в корне проекта):
```
BOT_TOKEN=your_bot_token_here
DATABASE_PATH=data/tasks.db
```

**Важно:** Файл должен находиться в `task_tracker_bot/.env`, так как `load_dotenv()` вызывается из `bot.py`.

## Инструкция по запуску для тестирования

### 1. Подготовка окружения

```bash
# Активировать виртуальное окружение
source venv/bin/activate

# Установить зависимости (если еще не установлены)
pip install -r task_tracker_bot/requirements.txt
```

### 2. Настройка конфигурации

```bash
# Создать .env файл в правильной папке
cat > task_tracker_bot/.env << EOF
BOT_TOKEN=your_bot_token_here
DATABASE_PATH=data/tasks.db
EOF
```

### 3. Запуск бота

```bash
# Вариант 1: Через скрипт
./start_bot.sh

# Вариант 2: Напрямую
source venv/bin/activate
python task_tracker_bot/bot.py
```

### 4. Проверка работы

После запуска бота в Telegram:

1. Отправить `/start` - должно появиться приветственное сообщение
2. Отправить `/help` - должна появиться справка
3. Отправить `/start_test_basecase` - должен запуститься базовый тест
4. Отправить `@start_test_basecase` - должен запуститься базовый тест через тег

## Тестирование по test-base-case.md

Для полного тестирования следуйте инструкциям в `docs/testing/test-base-case.md`:

1. **Этап 1:** Создание тестового пространства и досок
2. **Этап 2:** Создание проекта 5001 "Pictory Ai"
3. **Этап 3-10:** Работа с задачами, полями, метками

Или используйте автоматический тест:
- Команда: `/start_test_basecase`
- Тег: `@start_test_basecase`

## Рекомендации

1. **Перед тестированием:** Убедитесь, что BOT_TOKEN установлен
2. **Во время тестирования:** Следите за логами бота (выводятся в консоль)
3. **После тестирования:** Проверьте результаты в базе данных `data/tasks.db`

## Статус готовности

- ✅ **Код:** Готов к тестированию
- ✅ **Конфигурация:** BOT_TOKEN установлен в `task_tracker_bot/.env`
- ⚠️ **Метки:** Команды не зарегистрированы (если handler существует)
- ✅ **Тестирование:** Автоматический тест готов к запуску

